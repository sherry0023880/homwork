(function(){'use strict';var e,f=function(a){a=parseInt(a.getAttribute("start-position"),10);isNaN(a)&&(a=0);return 0<=a?a:0};var m=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},p=function(a){if(m(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&m(a))return a;return null};var r=/^https:\/\/((?:www|m)\.)youtube\.com(\/.*)?$/,t=function(a){if(!window.Enabler)return"";var b=studio.common.Environment;if(b.hasType(b.Type.CREATIVE_TOOLSET)){if("none"==a||"preview"==a)var c="2_11";b=Enabler.getContainerState();b!=studio.sdk.ContainerState.EXPANDING&&b!=studio.sdk.ContainerState.EXPANDED&&b!=studio.sdk.ContainerState.FS_EXPANDING&&b!=studio.sdk.ContainerState.FS_EXPANDED||"standard"!=a&&"intro"!=a||(c="2_9")}else a=Enabler.getParameter("adSiteUrl")||"localhost",r.test(a)&&
(c="1_8");c||(c="1_5");return c},u=function(a){a=a||"";var b=a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&\?]*).*/);return b&&11==b[2].length?b[2]:a};var v=function(){var a=window.navigator.userAgent||"";return-1<a.indexOf("Trident")||-1<a.indexOf("MSIE")};var w=function(a,b){return setTimeout(a,b)};var x=function(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0);b.dispatchEvent(c)},y=function(a,b){var c=function(d){a.removeEventListener("load",c);b(d)};a.addEventListener("load",c)},z=function(a){var b=!1,c=null;return function(){b=!0;c||(b&&(a(),b=!1),c=w(function(){c=null;b&&(a(),b=!1)},30))}};function A(a,b){this.F=a;a=b.split(".");b=window;for(var c=0;b&&c<a.length;c++)b=b[a[c]];this.w=b?0:2;this.g=[]}A.prototype.P=function(){for(var a=this.w=0;a<this.g.length;a++)this.g[a]();this.g=[]};A.prototype.load=function(a){a&&(0==this.w?a():this.g.push(a));if(2==this.w){this.w=1;a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=this.F;y(a,this.P.bind(this));var b=document.getElementsByTagName("script")[0];b?b.parentNode.insertBefore(a,b):document.getElementsByTagName("head")[0].appendChild(a)}};var B=function(){this.F="https://www.youtube.com/iframe_api";this.O="YT";this.D=null;this.g=[];this.G=!1};B.prototype.load=function(a){this.G?a():(this.D||(this.D=new A(this.F,this.O)),this.D.load(),this.g.push(a))};B.prototype.notifyScriptReady=function(){this.G=!0;for(var a=0;a<this.g.length;a++)this.g[a]();this.g=[]};var C=function(){window.gwdScriptLoadManager||(window.gwdScriptLoadManager=new B);return window.gwdScriptLoadManager};window.onYouTubeIframeAPIReady=function(){x("apiloaded",document);C().notifyScriptReady()};
var D=function(a){var b="https://www.youtube.com/embed/"+a.videoId;b+="?enablejsapi=1&html5=1";a.autoplay&&(b+="&autoplay=1");a.mute&&(b+="&mute=1");a.allowfullscreen||(b+="&fs=0");a.adformat&&(b+="&adformat="+a.adformat);v()&&(b+="&wmode=opaque");a.color&&(b+="&color="+a.color);b+="&controls=";switch(a.controls){case "none":b+="0";break;case "autohide":case void 0:b+="1"}b+="&iv_load_policy=3";a.loop&&(b+="&loop=1&playlist="+a.videoId);a.startPosition&&(b+="&start="+a.startPosition);var c=!1;a.extraPlayerArgs&&
a.extraPlayerArgs.split("&").forEach(function(d){d&&(d=d.split("="),b+="&",b+=d[0],"playsinline"===d[0]&&(c=!0),1<d.length&&(b+="="+encodeURIComponent(d[1])))});c||(b+="&playsinline=1");return b},E=function(a){a||(a=Date.now()+""+Math.floor(1E4*Math.random()));return"video"+a},F=function(a,b,c,d){var g=!1;C().load(function(){if(!g){var h=c.width;var n=c.height,k=D(c),q=c.allowfullscreen,l=a.querySelector("#"+b);l||(l=document.createElement("iframe"),l.id=b,l.frameBorder="0",l.type="text/html",a.appendChild(l));
k!=l.src&&(l.src=k);l.width=h;l.height=n;q?l.setAttribute("allowfullscreen",""):l.removeAttribute("allowfullscreen");h=new YT.Player(b,{events:c.events});d(h)}});return function(){g=!0}};var G=function(){};goog.inherits(G,HTMLElement);e=G.prototype;e.createdCallback=function(){this.a=null;this.f=!1;this.h="";this.j=this.v=!1;this.s=null;this.b=[];this.o=-1;this.K=z(this.N.bind(this));this.L=!1};
e.attachedCallback=function(){if("function"==typeof this.gwdLoad&&"function"==typeof this.gwdIsLoaded&&!this.gwdIsLoaded()){var a=p(this),b=a&&"function"==typeof a.gwdIsLoaded;(!a||b&&a.gwdIsLoaded())&&this.gwdLoad()}if(null==this.gwdActivate||"function"==typeof this.gwdActivate)null!=this.gwdIsActive&&this.gwdIsActive()||(b=(a=p(this))&&null!=a.gwdIsActive&&"function"==typeof a.gwdIsActive,null==a&&this.gwdActivate(),b&&a.gwdIsActive()&&this.gwdActivate());window.addEventListener("resize",this.K,
!1)};e.detachedCallback=function(){window.removeEventListener("resize",this.K,!1);H(this)};e.gwdLoad=function(){var a=this;if(!this.j){this.j=!0;this.h=this.h||E(this.id);var b=this.m();this.s=F(this,this.h,b,function(c){a.a=c;if("preview"==b.preview||"intro"==b.preview)a.i=!0,a.appendChild(I(a,"preview"==b.preview));x("ready",a)})}};e.gwdIsLoaded=function(){return null!=this.a};e.gwdActivate=function(){this.classList.remove("hidden");this.v=!0};
e.gwdDeactivate=function(){this.classList.add("hidden");0!=this.getCurrentTime()&&this.seek(0);this.v=!1;this.pause()};e.gwdIsActive=function(){return this.v};e.attributeChangedCallback=function(a){"video-url"==a&&this.j&&this.setYouTubeId(u(this.getAttribute(a)),!0)};e.play=function(){this.f?this.a.playVideo():this.b.push({l:0})};e.pause=function(){this.f?(5!=this.o&&2!=this.o||!this.v)&&this.a.pauseVideo():this.b.push({l:1})};e.replay=function(){this.seek(0);this.play();x("replayed",this)};
e.seek=function(a){this.f?this.a.seekTo(a,!0):this.b.push({l:2,u:a})};e.getCurrentTime=function(){return this.f?this.a.getCurrentTime():0};e.setYouTubeId=function(a,b){b=void 0===b?!1:b;this.f?b?this.a.cueVideoById(a):this.a.loadVideoById(a):this.j?this.b.push({l:4,u:a,H:b}):this.setAttribute("video-url",a)};e.toggleMute=function(){if(this.f){var a=this.a;a.isMuted()?a.unMute():a.mute()}else this.b.push({l:3})};e.isMuted=function(){return this.f?this.a.isMuted():!1};
e.m=function(){var a=this,b=this.getAttribute("adformat"),c=this.getAttribute("color"),d=this.getAttribute("controls"),g=this.getAttribute("extra-player-args"),h=J(this);return{adformat:b?b:void 0,allowfullscreen:this.hasAttribute("allowfullscreen"),color:c?c:void 0,controls:d?d:void 0,events:{onReady:function(){return void a.I()},onStateChange:function(n){n=parseInt(n.data,10);if(!isNaN(n)){var k="";switch(n){case 0:k="ended";a.hasAttribute("loop")&&a.replay();break;case 1:k="playing";if(!a.C&&K(a))a.C=
!0,a.B&&(L(a,a.a.getCurrentTime()),a.B=!1);else{var q=a.a;!q.isMuted()||a.hasAttribute("muted")||a.L||q.unMute();a.L=!0;0==a.o&&x("replayed",a);x("playpressed",a)}break;case 2:k="paused";break;case 3:k="buffering"}k&&x(k,a);a.o=n}}},extraPlayerArgs:g?g:"",height:h.height,loop:this.hasAttribute("loop"),mute:this.hasAttribute("muted"),videoId:u(this.getAttribute("video-url")),width:h.width}};
var J=function(a){var b=window.getComputedStyle(a).width;a=window.getComputedStyle(a).height;0===parseFloat(b)||isNaN(parseInt(b,10))?b="100%":-1==b.indexOf("%")&&(b=parseInt(b,10));0===parseFloat(a)||isNaN(parseInt(a,10))?a="100%":-1==a.indexOf("%")&&(a=parseInt(a,10));return{width:b,height:a}};
G.prototype.I=function(){var a=this;this.f=!0;this.a.addEventListener("seekto",function(){x("seekto",a)},!1);this.o=5;for(var b=0;b<this.b.length;b++)switch(this.b[b].l){case 0:this.play();break;case 1:this.pause();break;case 2:this.seek(this.b[b].u);break;case 3:this.toggleMute();break;case 4:this.setYouTubeId(this.b[b].u,this.b[b].H)}this.b=[]};G.prototype.N=function(){var a=this.h?this.querySelector("#"+this.h):null;if(a){var b=J(this);a.width=b.width;a.height=b.height}};var M=function(){};goog.inherits(M,G);M.prototype.createdCallback=function(){G.prototype.createdCallback.call(this);this.i=this.C=!1;this.A=this.c=null;this.M=[];this.B=!1};M.prototype.attributeChangedCallback=function(a){if("video-url"==a&&this.j){var b=K(this);b&&(this.C=!1);this.setYouTubeId(u(this.getAttribute(a)),!b)}};var H=function(a){a.a&&(a.a.destroy(),a.a=null);a.c&&a.c.parentElement&&(a.removeChild(a.c),a.c=null);a.A&&(a.A.destroy(),a.A=null);a.s&&a.s();a.f=!1;a.j=!1;a.s=null};e=M.prototype;
e.play=function(){this.i?this.J():G.prototype.play.call(this)};e.replay=function(){this.i||G.prototype.replay.call(this)};e.seek=function(a){this.i||G.prototype.seek.call(this,a)};e.setYouTubeId=function(a,b){this.i||G.prototype.setYouTubeId.call(this,a,void 0===b?!1:b)};e.toggleMute=function(){this.i||G.prototype.toggleMute.call(this)};
var K=function(a){if(-1!=(window.navigator&&window.navigator.userAgent||"").indexOf("Mobile")||!a.hasAttribute("autoplay"))return!1;a=String(a.getAttribute("autoplay")).toLowerCase();return"none"!=a&&"false"!=a},I=function(a,b){if(!a.c){a.style.position="relative";var c=window.getComputedStyle(a).height,d=window.getComputedStyle(a).width;a.c=document.createElement("div");a.c.className="youtube-overlay";a.c.style.height=c;a.c.style.width=d;if(b){a.c.className+=" youtube-play-button";a.c.style.backgroundImage=
"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4NCcgaGVpZ2h0PSc2MCc+PHBhdGggZD0nTTg0LjE1LDI2LjR2Ni4zNWMwLDIuODMzLTAuMTUsNS45NjctMC40NSw5LjRjLTAuMTMzLDEuNy0wLjI2NywzLjExNy0wLjQsNC4yNWwtMC4xNSwwLjk1Yy0wLjE2NywwLjc2Ny0wLjM2NywxLjUxNy0wLjYsMi4yNWMtMC42NjcsMi4zNjctMS41MzMsNC4wODMtMi42LDUuMTVjLTEuMzY3LDEuNC0yLjk2NywyLjM4My00LjgsMi45NWMtMC42MzMsMC4yLTEuMzE2LDAuMzMzLTIuMDUsMC40Yy0wLjc2NywwLjEtMS4zLDAuMTY3LTEuNiwwLjJjLTQuOSwwLjM2Ny0xMS4yODMsMC42MTctMTkuMTUsMC43NWMtMi40MzQsMC4wMzQtNC44ODMsMC4wNjctNy4zNSwwLjFoLTIuOTVDMzguNDE3LDU5LjExNywzNC41LDU5LjA2NywzMC4zLDU5Yy04LjQzMy0wLjE2Ny0xNC4wNS0wLjM4My0xNi44NS0wLjY1Yy0wLjA2Ny0wLjAzMy0wLjY2Ny0wLjExNy0xLjgtMC4yNWMtMC45LTAuMTMzLTEuNjgzLTAuMjgzLTIuMzUtMC40NWMtMi4wNjYtMC41MzMtMy43ODMtMS41LTUuMTUtMi45Yy0xLjAzMy0xLjA2Ny0xLjktMi43ODMtMi42LTUuMTVDMS4zMTcsNDguODY3LDEuMTMzLDQ4LjExNywxLDQ3LjM1TDAuOCw0Ni40Yy0wLjEzMy0xLjEzMy0wLjI2Ny0yLjU1LTAuNC00LjI1QzAuMTMzLDM4LjcxNywwLDM1LjU4MywwLDMyLjc1VjI2LjRjMC0yLjgzMywwLjEzMy01Ljk1LDAuNC05LjM1bDAuNC00LjI1YzAuMTY3LTAuOTY2LDAuNDE3LTIuMDUsMC43NS0zLjI1YzAuNy0yLjMzMywxLjU2Ny00LjAzMywyLjYtNS4xYzEuMzY3LTEuNDM0LDIuOTY3LTIuNDM0LDQuOC0zYzAuNjMzLTAuMTY3LDEuMzMzLTAuMywyLjEtMC40YzAuNC0wLjA2NiwwLjkxNy0wLjEzMywxLjU1LTAuMmM0LjktMC4zMzMsMTEuMjgzLTAuNTY3LDE5LjE1LTAuN0MzNS42NSwwLjA1LDM5LjA4MywwLDQyLjA1LDBMNDUsMC4wNWMyLjQ2NywwLDQuOTMzLDAuMDM0LDcuNCwwLjFjNy44MzMsMC4xMzMsMTQuMiwwLjM2NywxOS4xLDAuN2MwLjMsMC4wMzMsMC44MzMsMC4xLDEuNiwwLjJjMC43MzMsMC4xLDEuNDE3LDAuMjMzLDIuMDUsMC40YzEuODMzLDAuNTY2LDMuNDM0LDEuNTY2LDQuOCwzYzEuMDY2LDEuMDY2LDEuOTMzLDIuNzY3LDIuNiw1LjFjMC4zNjcsMS4yLDAuNjE3LDIuMjg0LDAuNzUsMy4yNWwwLjQsNC4yNUM4NCwyMC40NSw4NC4xNSwyMy41NjcsODQuMTUsMjYuNHogTTMzLjMsNDEuNEw1NiwyOS42TDMzLjMsMTcuNzVWNDEuNHonIGZpbGw9JyNDQzE4MUUnIGZpbGwtb3BhY2l0eT0nLjUnPjwvcGF0aD48cG9seWdvbiBwb2ludHM9JzMzLjMsNDEuNCAzMy4zLDE3Ljc1IDU2LDI5LjYnIGZpbGw9JyNGRkYnPjwvcG9seWdvbj48L3N2Zz4K')";
var g=document.createElement("div");g.className="youtube-thumbnail";a.c.appendChild(g);var h={videoId:u(a.getAttribute("video-url")),width:d,height:c,thumbWidth:"100%",thumbHeight:"100%",thumbAlign:"tl",events:{onClick:a.J.bind(a)}};w(function(){a.A=new YT.Thumbnail(g,h)},0)}else v()&&(a.c.style.backgroundColor="rgba(0, 0, 0, 0)")}return a.c};
M.prototype.J=function(){var a=this;if(this.i){H(this);this.setAttribute("autoplay","standard");this.i=!1;this.j=!0;var b=this.m();this.h=this.h||E(this.id);this.s=F(this,this.h,b,function(c){a.a=c;x("ready",a)})}};
M.prototype.m=function(){var a=this,b=G.prototype.m.call(this);b.startPosition=f(this);var c=K(this),d="none";c&&(d=String(this.getAttribute("autoplay")).toLowerCase(),d="true"===d||""===d?"standard":d);b.adformat||(b.adformat=t(d));if("intro"===d||"preview"===d)b.controls="none",b.loop=!1,b.mute=!0;b.autoplay=c;b.preview=d;b.events.onCueRangeEnter=function(g){"ending"==g.data?a.pause():a.a.removeCueRange(g.data);switch(g.data){case "q0":x("viewed0percent",a);break;case "q1":x("viewed25percent",a);
break;case "q2":x("viewed50percent",a);break;case "q3":x("viewed75percent",a);break;case "q4":x("viewed100percent",a);break;case "preview_q0":x("previewed0percent",a);break;case "preview_q1":x("previewed25percent",a);break;case "preview_q2":x("previewed50percent",a);break;case "preview_q3":x("previewed75percent",a);break;case "preview_q4":a.a.pauseVideo(),x("previewed100percent",a),a.removeAttribute("autoplay")}};return b};
var N=function(a,b,c,d){a.a.addCueRange(b,c,d);a.M.push({id:b,start:String(c),end:String(d)})},O=function(a,b,c,d){for(var g=c/4,h=0,n=d.length;h<n;h++){var k=b+g*h,q=b+c;0===h?k+=.1:h===n-1&&--k;N(a,d[h],k,q)}},L=function(a,b,c){var d=parseInt(a.getAttribute("preview-duration"),10)||30;c&&b+d>c&&(d=c-b);O(a,b,d,["preview_q0","preview_q1","preview_q2","preview_q3","preview_q4"])};
M.prototype.I=function(){var a=this;this.f=!0;var b=this.m().preview,c=this.a.getDuration();switch(b){case "none":case "standard":O(this,0,c,["q0","q1","q2","q3","q4"]);break;case "intro":case "preview":c?(b=this.m().startPosition,L(this,b&&b<c?b:0,c)):this.B=!0}this.hasAttribute("pause-on-end")&&N(this,"ending",c-1,c);this.a.addEventListener("seekto",function(){x("seekto",a)},!1);this.o=5;for(c=0;c<this.b.length;c++)switch(this.b[c].l){case 0:this.play();break;case 1:this.pause();break;case 2:this.seek(this.b[c].u);
break;case 3:this.toggleMute();break;case 4:this.setYouTubeId(this.b[c].u,this.b[c].H)}this.b=[]};document.registerElement("gwd-youtube",{prototype:M.prototype});}).call(this);
